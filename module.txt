[General]
disable-geoip-db-auto-update = true
compatibility-mode = 1
ipv6 = true
ipv6-vif = auto
include-all-networks = true
include-cellular-services = true
show-error-page = false
auto-suspend = false
exclude-simple-hostnames = true
icmp-forwarding = false
loglevel = verbose
allow-dns-svcb = true

[Rule]
AND,((OR,((IP-CIDR,192.30.252.0/22), (IP-CIDR,185.199.108.0/22), (IP-CIDR,140.82.112.0/20), (IP-CIDR,143.55.64.0/20), (IP-CIDR6,2a0a:a440::/29), (IP-CIDR6,2606:50c0::/32), (IP-CIDR,20.201.28.151/32), (IP-CIDR,20.205.243.166/32), (IP-CIDR,20.87.245.0/32), (IP-CIDR,4.237.22.38/32), (IP-CIDR,20.207.73.82/32), (IP-CIDR,20.27.177.113/32), (IP-CIDR,20.200.245.247/32), (IP-CIDR,20.175.192.147/32), (IP-CIDR,20.233.83.145/32), (IP-CIDR,20.29.134.23/32), (IP-CIDR,20.199.39.232/32), (IP-CIDR,20.217.135.5/32), (IP-CIDR,4.225.11.194/32), (IP-CIDR,4.208.26.197/32), (IP-CIDR,20.26.156.215/32)))),DIRECT // web
AND,((OR,((IP-CIDR,192.30.252.0/22), (IP-CIDR,185.199.108.0/22), (IP-CIDR,140.82.112.0/20), (IP-CIDR,143.55.64.0/20), (IP-CIDR6,2a0a:a440::/29), (IP-CIDR6,2606:50c0::/32), (IP-CIDR,20.201.28.151/32), (IP-CIDR,20.205.243.166/32), (IP-CIDR,20.87.245.0/32), (IP-CIDR,4.237.22.38/32), (IP-CIDR,20.207.73.82/32), (IP-CIDR,20.27.177.113/32), (IP-CIDR,20.200.245.247/32), (IP-CIDR,20.175.192.147/32), (IP-CIDR,20.233.83.145/32), (IP-CIDR,20.29.134.23/32), (IP-CIDR,20.199.39.232/32), (IP-CIDR,20.217.135.5/32), (IP-CIDR,4.225.11.194/32), (IP-CIDR,4.208.26.197/32), (IP-CIDR,20.26.156.215/32), (IP-CIDR,20.201.28.152/32), (IP-CIDR,20.205.243.160/32), (IP-CIDR,20.87.245.4/32), (IP-CIDR,4.237.22.40/32), (IP-CIDR,20.207.73.83/32), (IP-CIDR,20.27.177.118/32), (IP-CIDR,20.200.245.248/32), (IP-CIDR,20.175.192.146/32), (IP-CIDR,20.233.83.149/32), (IP-CIDR,20.29.134.19/32), (IP-CIDR,20.199.39.227/32), (IP-CIDR,20.217.135.4/32), (IP-CIDR,4.225.11.200/32), (IP-CIDR,4.208.26.198/32), (IP-CIDR,20.26.156.214/32)))),DIRECT // git
AND,((OR,((IP-CIDR,192.30.252.153/32), (IP-CIDR,192.30.252.154/32), (IP-CIDR,185.199.108.153/32), (IP-CIDR,185.199.109.153/32), (IP-CIDR,185.199.110.153/32), (IP-CIDR,185.199.111.153/32), (IP-CIDR6,2606:50c0:8000::153/128), (IP-CIDR6,2606:50c0:8001::153/128), (IP-CIDR6,2606:50c0:8002::153/128), (IP-CIDR6,2606:50c0:8003::153/128)))),DIRECT // pages
AND,((OR,((IP-CIDR,20.42.11.16/28), (IP-CIDR,172.210.54.224/28), (IP-CIDR,172.210.54.176/28), (IP-CIDR,172.210.54.112/28), (IP-CIDR,172.210.54.32/28), (IP-CIDR,172.191.151.48/28), (IP-CIDR,172.210.54.192/28), (IP-CIDR,172.210.54.128/28), (IP-CIDR,172.210.54.64/28), (IP-CIDR,172.210.54.0/28), (IP-CIDR,172.210.53.192/28), (IP-CIDR,172.203.190.240/28), (IP-CIDR,172.210.54.208/28), (IP-CIDR,172.210.54.160/28), (IP-CIDR,172.210.54.96/28), (IP-CIDR,172.210.54.16/28), (IP-CIDR,20.55.13.192/28), (IP-CIDR,172.203.190.64/28), (IP-CIDR,172.210.54.144/28), (IP-CIDR,172.210.54.80/28), (IP-CIDR,172.210.54.48/28), (IP-CIDR,172.210.53.240/28), (IP-CIDR,172.210.53.208/28), (IP-CIDR,74.249.85.192/28), (IP-CIDR,51.8.154.192/28), (IP-CIDR,51.8.152.112/28), (IP-CIDR,51.8.152.96/28), (IP-CIDR,51.8.154.224/28), (IP-CIDR,51.8.152.64/28), (IP-CIDR,135.237.130.224/28), (IP-CIDR,51.8.155.160/28), (IP-CIDR,51.8.155.144/28), (IP-CIDR,51.8.155.128/28), (IP-CIDR,51.8.154.208/28), (IP-CIDR,51.8.155.16/28), (IP-CIDR,51.143.4.80/28), (IP-CIDR,4.154.241.160/28), (IP-CIDR,4.154.243.48/28), (IP-CIDR,20.3.226.144/28), (IP-CIDR,4.154.216.160/28), (IP-CIDR,4.155.12.0/28), (IP-CIDR,4.155.240.32/28), (IP-CIDR,4.154.243.112/28), (IP-CIDR,4.154.243.0/28), (IP-CIDR,4.154.223.64/28), (IP-CIDR,4.154.222.240/28), (IP-CIDR,4.246.100.240/28), (IP-CIDR,4.155.45.96/28), (IP-CIDR,4.154.242.96/28), (IP-CIDR,4.154.243.240/28), (IP-CIDR,4.154.223.208/28), (IP-CIDR,4.154.218.240/28), (IP-CIDR,4.154.218.192/28), (IP-CIDR,4.155.74.48/28), (IP-CIDR,4.154.245.80/28), (IP-CIDR,4.154.244.192/28), (IP-CIDR,4.154.243.16/28), (IP-CIDR,4.154.243.144/28), (IP-CIDR,4.154.218.144/28), (IP-CIDR,20.171.127.64/28), (IP-CIDR,172.182.201.112/28), (IP-CIDR,172.182.201.96/28), (IP-CIDR,172.182.201.80/28), (IP-CIDR,172.182.201.64/28), (IP-CIDR,172.182.200.240/28), (IP-CIDR,20.163.40.128/28), (IP-CIDR,172.182.209.32/28), (IP-CIDR,172.182.209.0/28), (IP-CIDR,172.182.208.224/28), (IP-CIDR,172.182.192.192/28), (IP-CIDR,172.182.192.176/28), (IP-CIDR,172.182.200.128/28), (IP-CIDR,172.182.209.16/28), (IP-CIDR,172.182.208.240/28), (IP-CIDR,172.182.208.208/28), (IP-CIDR,172.182.208.192/28), (IP-CIDR,172.182.208.144/28), (IP-CIDR,4.240.39.192/28), (IP-CIDR,4.240.21.0/28), (IP-CIDR,4.240.20.208/28), (IP-CIDR,4.240.20.176/28), (IP-CIDR,4.240.39.240/28), (IP-CIDR,4.240.37.96/28), (IP-CIDR,13.71.3.96/28), (IP-CIDR,4.240.21.16/28), (IP-CIDR,4.240.20.240/28), (IP-CIDR,4.240.20.192/28), (IP-CIDR,4.240.20.128/28), (IP-CIDR,4.240.18.224/28), (IP-CIDR,20.192.21.48/28), (IP-CIDR,4.240.21.64/28), (IP-CIDR,4.240.20.224/28), (IP-CIDR,4.240.20.160/28), (IP-CIDR,4.240.19.128/28), (IP-CIDR,52.172.130.176/28), (IP-CIDR,20.61.127.48/28), (IP-CIDR,4.210.182.16/28), (IP-CIDR,4.210.180.208/28), (IP-CIDR,4.210.180.0/28), (IP-CIDR,4.210.180.96/28), (IP-CIDR,4.210.177.128/28), (IP-CIDR,20.61.126.208/28), (IP-CIDR,4.210.181.128/28), (IP-CIDR,4.210.181.192/28), (IP-CIDR,4.210.180.112/28), (IP-CIDR,4.210.179.128/28), (IP-CIDR,4.210.179.32/28), (IP-CIDR,4.180.183.240/28), (IP-CIDR,4.210.182.80/28), (IP-CIDR,4.210.182.0/28), (IP-CIDR,4.210.180.32/28), (IP-CIDR,4.210.179.208/28), (IP-CIDR,4.210.177.96/28), (IP-CIDR,20.61.206.192/28), (IP-CIDR,4.210.181.32/28), (IP-CIDR,4.210.180.240/28), (IP-CIDR,4.210.180.48/28), (IP-CIDR,4.210.179.192/28), (IP-CIDR,4.210.179.112/28), (IP-CIDR,172.166.156.160/28), (IP-CIDR,4.234.135.160/28), (IP-CIDR,4.234.135.48/28), (IP-CIDR,4.234.135.0/28), (IP-CIDR,4.234.199.224/28), (IP-CIDR,4.234.197.192/28), (IP-CIDR,172.166.151.112/28), (IP-CIDR,20.162.254.128/28), (IP-CIDR,4.234.135.128/28), (IP-CIDR,4.234.135.112/28), (IP-CIDR,4.234.134.160/28), (IP-CIDR,20.77.127.144/28), (IP-CIDR,172.166.156.96/28), (IP-CIDR,20.162.255.224/28), (IP-CIDR,20.162.255.0/28), (IP-CIDR,4.234.135.144/28), (IP-CIDR,4.234.134.176/28), (IP-CIDR,51.145.53.144/28), (IP-CIDR,23.97.62.128/28), (IP-CIDR,104.215.255.224/28), (IP-CIDR,104.215.251.96/28), (IP-CIDR,104.215.250.48/28), (IP-CIDR,104.215.252.144/28), (IP-CIDR,207.46.224.80/28), (IP-CIDR,23.97.62.144/28), (IP-CIDR,13.76.118.208/28), (IP-CIDR,13.76.118.128/28), (IP-CIDR,13.76.118.112/28), (IP-CIDR,13.76.118.32/28), (IP-CIDR,207.46.230.240/28), (IP-CIDR,23.97.62.112/28), (IP-CIDR,13.76.118.224/28), (IP-CIDR,13.76.118.80/28), (IP-CIDR,13.76.118.48/28), (IP-CIDR,13.76.217.32/28), (IP-CIDR,23.97.62.240/28), (IP-CIDR,104.215.255.144/28), (IP-CIDR,13.76.118.192/28), (IP-CIDR,13.76.118.176/28), (IP-CIDR,13.76.118.64/28), (IP-CIDR,13.76.118.16/28), (IP-CIDR,207.46.227.144/28), (IP-CIDR,20.227.141.208/28), (IP-CIDR,20.227.147.64/28), (IP-CIDR,20.227.146.16/28), (IP-CIDR,20.227.145.144/28), (IP-CIDR,20.227.144.176/28), (IP-CIDR,20.227.135.160/28), (IP-CIDR,20.227.140.176/28), (IP-CIDR,20.227.146.240/28), (IP-CIDR,20.227.146.224/28), (IP-CIDR,20.227.145.64/28), (IP-CIDR,20.227.144.160/28), (IP-CIDR,20.227.135.112/28), (IP-CIDR,68.218.39.192/28), (IP-CIDR,4.196.182.160/28), (IP-CIDR,4.196.182.128/28), (IP-CIDR,4.196.182.32/28), (IP-CIDR,4.196.181.128/28), (IP-CIDR,4.196.143.240/28), (IP-CIDR,4.147.189.192/28), (IP-CIDR,4.196.182.112/28), (IP-CIDR,4.196.181.192/28), (IP-CIDR,4.196.181.112/28), (IP-CIDR,4.196.180.176/28), (IP-CIDR,4.197.69.64/28)))),DIRECT // codespaces
AND,((OR,((IP-CIDR,192.30.252.0/22), (IP-CIDR,185.199.108.0/22), (IP-CIDR,140.82.112.0/20), (IP-CIDR,143.55.64.0/20), (IP-CIDR6,2a0a:a440::/29), (IP-CIDR6,2606:50c0::/32), (IP-CIDR,20.85.130.105/32), (IP-CIDR,4.237.22.41/32), (IP-CIDR,4.249.131.160/32), (IP-CIDR,20.199.39.224/32), (IP-CIDR,52.175.140.176/32), (IP-CIDR,4.225.11.192/32), (IP-CIDR,20.250.119.64/32), (IP-CIDR,138.91.182.224/32), (IP-CIDR,13.107.5.93/32)))),DIRECT // copilot
AND,((OR,((OR,((IP-CIDR6,2606:73c0::/32), (IP-CIDR6,2606:40::/32), (IP-CIDR6,2605:ef80::/32), (IP-CIDR6,2600:1900::/28), (IP-CIDR6,2404:f340::/32))), (IP-CIDR,34.0.0.0/15), (IP-CIDR,23.251.128.0/19,no-resolve), (IP-CIDR,23.236.48.0/20), (IP-CIDR,8.35.192.0/20), (IP-CIDR,8.34.208.0/20)))),DIRECT // Google Cloud Platform
AND,((IP-ASN,15169), (OR,((OR,((IP-CIDR6,2620:120:e000::/40), (IP-CIDR6,2620:11a:a000::/40,no-resolve), (IP-CIDR6,2c0f:fb50::/32), (IP-CIDR6,2a00:1450::/32), (IP-CIDR6,2800:3f0::/32), (IP-CIDR6,2607:f8b0::/32), (IP-CIDR6,2404:6800::/32), (IP-CIDR6,2001:4860::/32))), (IP-CIDR,173.194.0.0/16), (IP-CIDR,172.253.0.0/16), (IP-CIDR,172.217.0.0/16), (IP-CIDR,172.110.32.0/21), (IP-CIDR,142.250.0.0/15), (IP-CIDR,72.14.192.0/18), (IP-CIDR,70.32.128.0/19), (IP-CIDR,66.249.64.0/19), (IP-CIDR,66.22.228.0/23), (IP-CIDR,66.102.0.0/20), (IP-CIDR,64.233.160.0/19), (IP-CIDR,64.15.112.0/20), (IP-CIDR,8.8.8.0/24), (IP-CIDR,8.8.4.0/24)))),DIRECT // Google
AND,((OR,((RULE-SET,SYSTEM), (IP-CIDR6,2620:149::/32,no-resolve), (IP-CIDR,17.0.0.0/8))), (IP-ASN,714,no-resolve)),DIRECT // Apple
RULE-SET,SYSTEM,DIRECT
FINAL,REJECT,dns-failed
